<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP4 - Exercice 2 (corrigé)</title>

    <!-- A-Frame 0.9.2 -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>

    <!-- Physics -->
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-physics-extras@0.1.3/dist/aframe-physics-extras.min.js"></script>

    <!-- Super Hands -->
    <script src="https://unpkg.com/super-hands@2.0.1/dist/super-hands.min.js"></script>

    <style>body { margin: 0; }</style>
</head>
<body>
<a-scene physics="debug: true; gravity: -9.8">

    <!-- Sol -->
    <a-plane rotation="-90 0 0" width="30" height="30" color="#7BC8A4"
             static-body shadow="receive: true"></a-plane>

    <!-- Lumières -->
    <a-entity light="type: directional; intensity: 0.8" position="1 3 2"></a-entity>
    <a-entity light="type: ambient; intensity: 0.5"></a-entity>

    <!-- Objets interactifs -->
    <a-box class="interactable" hoverable grabbable draggable stretchable droppable
           position="-1 1 -3" color="#4CC3D9"
           dynamic-body shadow="cast: true"></a-box>

    <a-sphere class="interactable" hoverable grabbable draggable stretchable droppable
              position="1 2 -2" radius="0.7" color="#EF2D5E"
              dynamic-body shadow="cast: true"></a-sphere>

    <a-cylinder class="interactable" hoverable grabbable draggable stretchable droppable
                position="3 1.5 -4" radius="0.5" height="1.4" color="#FFC65D"
                dynamic-body shadow="cast: true"></a-cylinder>

    <!-- Caméra + Rig -->
    <a-entity id="rig" movement-controls="speed: 0.15; fly: false">
        <a-entity camera position="0 1.6 0" look-controls></a-entity>

        <!-- Contrôleur gauche -->
        <a-entity id="leftHand"
                  oculus-touch-controls="hand: left"
                  vive-controls="hand: left"
                  super-hands
                  sphere-collider="objects: .interactable"
                  physics-collider
                  collision-filter="collisionForces: false"
                  kinematic-body>
            <!-- Simple modèle de main -->
            <a-sphere radius="0.05" color="blue"></a-sphere>
        </a-entity>

        <!-- Contrôleur droit -->
        <a-entity id="rightHand"
                  oculus-touch-controls="hand: right"
                  vive-controls="hand: right"
                  super-hands
                  sphere-collider="objects: .interactable"
                  physics-collider
                  collision-filter="collisionForces: false"
                  kinematic-body>
            <a-sphere radius="0.05" color="red"></a-sphere>
        </a-entity>
    </a-entity>

    <!-- Sky -->
    <a-sky color="#ECECEC"></a-sky>
</a-scene>
</body>
</html>
